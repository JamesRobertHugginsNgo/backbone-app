"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function _toConsumableArray(t){if(Array.isArray(t)){for(var e=0,o=Array(t.length);e<t.length;e++)o[e]=t[e];return o}return Array.from(t)}window.BackboneOData4=window.BackboneOData4||{},BackboneOData4.Model=Backbone.Model.extend({attributeTypes:{},set:function(t,e){for(var o in"string"==typeof t&&((t={})[arguments[0]]=arguments[1],e=arguments[2]),this.attributeTypes)if(this.attributeTypes.hasOwnProperty(o)&&this.attributeTypes[o]&&t.hasOwnProperty(o)&&t[o])if("string"==typeof this.attributeTypes[o]){if(_typeof(t[o])!==this.attributeTypes)switch(this.attributeTypes){case"boolean":t[o]=new Boolean(t[o]).valueOf();break;case"number":t[o]=new Number(t[o]).valueOf();break;case"string":t[o]=new String(t[o]).valueOf()}}else"function"==typeof this.attributeTypes[o]&&(t[o]instanceof this.attributeTypes[o]||(t[o]=Array.isArray(t[o])?t[o]:[t[o]],t[o]=new(Function.prototype.bind.apply(this.attributeTypes[o],[null].concat(_toConsumableArray(t[o]))))));return Backbone.Model.prototype.set.call(this,t,e)},toJSON:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Backbone.Model.prototype.toJSON.call(this,t);if(t.deep)for(var o in this.attributeTypes)this.attributeTypes.hasOwnProperty(o)&&this.attributeTypes[o]&&e.hasOwnProperty(o)&&e[o]&&"function"==typeof this.attributeTypes[o]&&"string"!=typeof e[o]&&(e[o]instanceof Backbone.Model||e[o]instanceof Backbone.Collection?e[o]=e[o].toJSON(t):e[o]instanceof Date?e[o]=e[o].toISOString():e[o].toString&&(e[o]=e[o].toString()));return e}}),BackboneOData4.Collection=Backbone.Collection.extend({model:BackboneOData4.Model,queryOptions:{},initialize:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.queryOptions=e.queryOptions||{}},fetch:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.data=$.extend({},t.data,this.queryOptions,{$count:!0}),Backbone.Collection.prototype.fetch.call(this,t)},parse:function(t){return Backbone.Collection.prototype.parse.call(this,t.value)}}),BackboneOData4.View=Backbone.View.extend({});
//# sourceMappingURL=backbone-odata4.min.js.map
